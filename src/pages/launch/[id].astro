---

import type { GetStaticPaths } from "astro";
import {getLatestLaunches, getLaunchBy} from "../../services/spacex"
import Layout from "../../layouts/Layout.astro";
const { id } = Astro.params

console.log({id})

let launch
if( id ){
    launch = await getLaunchBy( {id })
}
export async function getStaticPaths(){
    //llamar a una api externa
    // para saber todas las id que debes generar
    const launches = await getLatestLaunches()
    return launches.map(launch => ({

        params: {id: launch.id},
    }))
   
}   

console.log(launch)
---
<Layout title={`Lanzamiento ${id}`}>
    <article>
        {launch?.id}
    </article>

</Layout>